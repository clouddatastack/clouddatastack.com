{
  "name": "s3-sink-generic",
  "config": {
    "connector.class": "io.confluent.connect.s3.S3SinkConnector",
    "tasks.max": "2",

  "topics.regex": "<TOPIC_PREFIX>\\..*",  

    "s3.bucket.name": "<S3_BUCKET>",
    "s3.region": "<AWS_REGION>",
    "s3.part.size": "5242880",
    "flush.size": "1000",
    "rotate.interval.ms": "600000",

    "format.class": "io.confluent.connect.s3.format.json.JsonFormat",
    "storage.class": "io.confluent.connect.s3.storage.S3Storage",
    "partitioner.class": "io.confluent.connect.storage.partitioner.TimeBasedPartitioner",
    "path.format": "year=YYYY/month=MM/day=dd",
    "locale": "en_US",
    "timezone": "UTC",
    "partition.duration.ms": "86400000",
    "timestamp.extractor": "Record",

    "schema.compatibility": "NONE",

    "aws.access.key.id": "${file:/opt/kafka/external-credentials/aws.properties:AWS_ACCESS_KEY_ID}",
    "aws.secret.access.key": "${file:/opt/kafka/external-credentials/aws.properties:AWS_SECRET_ACCESS_KEY}"
  }
}
